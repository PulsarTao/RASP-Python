import csv
import numpy as np
from scipy import interpolate
from mpl_toolkits.mplot3d import Axes3D
import matplotlib as mpl
import matplotlib.cm as cm
import matplotlib.pyplot as plt
def func(x, y):
    return (x + y) * np.exp(-5.0 * (x ** 2 + y ** 2))
data=[[240.82 ,	160.27 ,	16670.83],
[160.01 	,260.22 ,	21755.49],
[140.71 	,220.10 ,	21813.04],
[281.00 	,280.92 ,	12960.40],
[100.58 	,260.22 ,	20584.32],
[180.78 	,220.10 ,	21381.94],
[260.77 ,	 140.11 ,	13996.55],
[180.78 ,	180.76 ,	20837.71],
[220.01 ,	220.10 	,19405.13],
[180.78 ,	240.47, 	21433.12],
[180.78 ,	240.47 ,	21433.12],
[220.01 ,	100.92, 	15949.07],
[180.78 ,	280.92 ,	21066.21],
[120.54 ,	120.64 ,	18909.98],
[240.82 ,	220.10 	,17732.10],
[120.54 ,	240.47, 	21473.19],
[281.00 ,	220.10 ,	13276.00],
[220.01 ,	120.64 	,16893.13],
[120.54 ,	200.81 ,	21229.05],
[200.93 ,	140.11, 	18834.84],
[300.23 ,	220.10 ,	10572.33],
[240.82 ,	200.81 	,17537.85],
[160.01 ,	300.32 ,	21094.20],
[281.00 ,	260.22 ,	13225.45],
[220.01 ,	140.11 ,	17681.00],
[281.00 ,	200.81 ,	13082.58],
[160.01 ,	200.81 ,	21612.71],
[300.23 ,	140.11 	,8846.89],
[300.23 ,	300.32 	,9859.15],
[140.71 ,	200.81 ,	21619.46],
[240.82 ,	260.22 	,17680.72],
[100.58 ,	120.64 ,	18122.56],
[160.01 ,	220.10, 	21806.09],
[120.54 ,	140.11 ,	19696.95],
[260.77 ,	180.76 	,15176.92],
[240.82 ,	120.64 ,	15219.28],
[260.77 ,	300.32 ,	15009.35],
[140.71 ,	160.27 ,	20752.26],
[120.54 ,	160.27 ,	20361.07],
[240.82 ,	300.32 ,	17019.71],
[100.58 ,	220.10 ,	20635.18],
[300.23 ,	160.27 ,	9511.25],
[240.82 ,	240.47 	,17782.19],
[300.23 ,	280.92 ,	10255.68]]
f=open("Model.csv",'w+')
modelCsv=csv.reader(f)
w=csv.writer(f)
w.writerows(data)
f.close()
mat=np.matrix(data)
figure = plt.figure("Model")
ax = Axes3D(figure)
X = np.array(mat[:,0])
Y = np.array(mat[:,1])
Z =np.array(mat[:,2])
'''
x,y=np.meshgrid(X,Y)
ax.plot_surface(x,y,Z, rstride=1, cstride=1, cmap='rainbow')
'''

#三维散点图
C = []
for z in Z:
    if z >= -60:
        C.append("r")
    elif z < -300:
        C.append("k")
    else:
        C.append("y")
ax.scatter(X,Y,Z,c=C,alpha=0.4,s=10)
ax.set_xlabel('longitude')
ax.set_ylabel('latitude')
ax.set_zlabel('deepth')
ax.plot_surface(X, Y, Z, rstride=1, cstride=1, cmap='rainbow')

plt.show()


